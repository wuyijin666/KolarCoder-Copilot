# We-Copilot UI (Vue3)

åŸºäº Vue3 + WebContainer API çš„åœ¨çº¿ä»£ç ç¼–è¾‘å’Œé¢„è§ˆç¯å¢ƒã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **åœ¨çº¿ä»£ç ç¼–è¾‘**: åŸºäº CodeMirror 6 çš„ä¸“ä¸šä»£ç ç¼–è¾‘å™¨
- ğŸ”„ **å®æ—¶é¢„è§ˆ**: åŸºäº WebContainer çš„æµè§ˆå™¨å†… Node.js ç¯å¢ƒ
- ğŸ“ **æ–‡ä»¶ç®¡ç†**: å®Œæ•´çš„æ–‡ä»¶æµè§ˆå™¨å’Œæ–‡ä»¶æ“ä½œåŠŸèƒ½
- ğŸ’» **é›†æˆç»ˆç«¯**: åŸºäº xterm.js çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨
- ğŸ¨ **ç°ä»£ UI**: åŸºäº Ant Design Vue + Tailwind CSS

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UI ç»„ä»¶**: Ant Design Vue
- **æ ·å¼æ¡†æ¶**: Tailwind CSS
- **ä»£ç ç¼–è¾‘**: CodeMirror 6
- **å®¹å™¨æŠ€æœ¯**: WebContainer API
- **ç»ˆç«¯æ¨¡æ‹Ÿ**: xterm.js

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd apps/we-copilot/ui-vue3
npm install
# æˆ–
pnpm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
# æˆ–
pnpm dev
```

### 3. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5173

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”œâ”€â”€ CodeEditor.vue   # ä»£ç ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ FileExplorer.vue # æ–‡ä»¶æµè§ˆå™¨
â”‚   â”œâ”€â”€ FileNode.vue     # æ–‡ä»¶èŠ‚ç‚¹
â”‚   â”œâ”€â”€ EditorTabs.vue   # ç¼–è¾‘å™¨æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ PreviewPanel.vue # é¢„è§ˆé¢æ¿
â”‚   â””â”€â”€ TerminalPanel.vue# ç»ˆç«¯é¢æ¿
â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ fileStore.ts     # æ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ webContainerStore.ts # WebContainer ç®¡ç†
â”œâ”€â”€ views/               # é¡µé¢
â”‚   â”œâ”€â”€ Home.vue         # é¦–é¡µ
â”‚   â””â”€â”€ Editor.vue       # ç¼–è¾‘å™¨é¡µé¢
â”œâ”€â”€ router/              # è·¯ç”±
â””â”€â”€ main.ts              # å…¥å£æ–‡ä»¶
```

## ä½¿ç”¨è¯´æ˜

### 1. åˆå§‹åŒ–å®¹å™¨

ç‚¹å‡»"åˆå§‹åŒ–å®¹å™¨"æŒ‰é’®å¯åŠ¨ WebContainer ç¯å¢ƒã€‚

### 2. æ–‡ä»¶æ“ä½œ

- ç‚¹å‡»æ–‡ä»¶æµè§ˆå™¨ä¸­çš„"+"æŒ‰é’®åˆ›å»ºæ–°æ–‡ä»¶
- ç‚¹å‡»æ–‡ä»¶åæ‰“å¼€æ–‡ä»¶è¿›è¡Œç¼–è¾‘
- å³é”®æ–‡ä»¶å¯è¿›è¡Œé‡å‘½åã€åˆ é™¤ç­‰æ“ä½œ

### 3. ä»£ç ç¼–è¾‘

- æ”¯æŒå¤šç§è¯­è¨€çš„è¯­æ³•é«˜äº®
- æ”¯æŒä»£ç æ ¼å¼åŒ– (Ctrl+Shift+F)
- æ”¯æŒæ–‡ä»¶ä¿å­˜ (Ctrl+S)

### 4. é¢„è§ˆåŠŸèƒ½

- ç‚¹å‡»"è¿è¡Œé¡¹ç›®"å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- åœ¨é¢„è§ˆé¢æ¿ä¸­æŸ¥çœ‹è¿è¡Œæ•ˆæœ
- æ”¯æŒç¼©æ”¾ã€åˆ·æ–°ç­‰æ“ä½œ

### 5. ç»ˆç«¯æ“ä½œ

- æ”¯æŒå¤šç»ˆç«¯æ ‡ç­¾é¡µ
- å®Œæ•´çš„å‘½ä»¤è¡Œç¯å¢ƒ
- ä¸ WebContainer ç¯å¢ƒé›†æˆ

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°çš„è¯­è¨€æ”¯æŒ

åœ¨ `CodeEditor.vue` ä¸­çš„ `getLanguageExtension` æ–¹æ³•ä¸­æ·»åŠ æ–°çš„è¯­è¨€æ‰©å±•:

```typescript
case 'py':
case 'python':
  return python()
```

### è‡ªå®šä¹‰ä¸»é¢˜

å¯ä»¥åœ¨ CodeMirror é…ç½®ä¸­æ·»åŠ è‡ªå®šä¹‰ä¸»é¢˜:

```typescript
import { myCustomTheme } from './themes/custom'

// åœ¨ EditorState.create ä¸­ä½¿ç”¨
extensions: [
  basicSetup,
  languageExtension,
  myCustomTheme,
  // ...
]
```

## æ³¨æ„äº‹é¡¹

1. **æµè§ˆå™¨å…¼å®¹æ€§**: WebContainer éœ€è¦æ”¯æŒ SharedArrayBuffer çš„ç°ä»£æµè§ˆå™¨
2. **HTTPS è¦æ±‚**: ç”Ÿäº§ç¯å¢ƒéœ€è¦ HTTPS åè®®
3. **å†…å­˜ä½¿ç”¨**: WebContainer ä¼šå ç”¨è¾ƒå¤šå†…å­˜ï¼Œå»ºè®®åœ¨æ€§èƒ½è¾ƒå¥½çš„è®¾å¤‡ä¸Šä½¿ç”¨

## æ•…éšœæ’é™¤

### WebContainer åˆå§‹åŒ–å¤±è´¥

1. ç¡®ä¿æµè§ˆå™¨æ”¯æŒ SharedArrayBuffer
2. æ£€æŸ¥æ˜¯å¦åœ¨ HTTPS ç¯å¢ƒä¸‹è¿è¡Œ
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### ç»ˆç«¯æ— æ³•è¿æ¥

1. ç¡®ä¿ WebContainer å·²æ­£ç¡®åˆå§‹åŒ–
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. é‡æ–°å¯åŠ¨å®¹å™¨

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request

## è®¸å¯è¯

Apache License 2.0
